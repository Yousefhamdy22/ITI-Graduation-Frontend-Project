<div class="admin-manage-container">
  <div class="admin-manage-header">
    <div class="header-content">
      <h1>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù€ Admins</h1>
      <button class="back-btn" (click)="goBack()">
        <span>â† Ø§Ù„Ø¹ÙˆØ¯Ø©</span>
      </button>
    </div>
  </div>

  <div class="admin-manage-content">
    <!-- Add Admin Button -->
    <div class="action-bar">
      <button 
        class="add-btn" 
        (click)="toggleForm()"
        [disabled]="isLoading">
        {{ showForm ? 'âœ• Ø¥Ù„ØºØ§Ø¡' : '+ Ø¥Ø¶Ø§ÙØ© Admin Ø¬Ø¯ÙŠØ¯' }}
      </button>
    </div>

    <!-- Add Admin Form -->
    <div class="form-section" *ngIf="showForm">
      <h2>Ø¥Ø¶Ø§ÙØ© Admin Ø¬Ø¯ÙŠØ¯</h2>
      <form [formGroup]="form" (ngSubmit)="submitForm()" class="admin-form">
        
        <div class="form-group">
          <label for="email">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
          <input 
            id="email"
            type="email" 
            formControlName="email" 
            placeholder="admin@example.com"
            [class.error]="form.get('email')?.invalid && form.get('email')?.touched">
          <span class="error-message" *ngIf="emailError">{{ emailError }}</span>
        </div>

        <div class="form-group">
          <label for="password">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
          <input 
            id="password"
            type="password" 
            formControlName="password" 
            placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"
            [class.error]="form.get('password')?.invalid && form.get('password')?.touched">
          <span class="error-message" *ngIf="passwordError">{{ passwordError }}</span>
        </div>

        <div class="form-group">
          <label for="firstName">Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£ÙˆÙ„</label>
          <input 
            id="firstName"
            type="text" 
            formControlName="firstName" 
            placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£ÙˆÙ„"
            [class.error]="form.get('firstName')?.invalid && form.get('firstName')?.touched">
          <span class="error-message" *ngIf="firstNameError">{{ firstNameError }}</span>
        </div>

        <div class="form-group">
          <label for="lastName">Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£Ø®ÙŠØ±</label>
          <input 
            id="lastName"
            type="text" 
            formControlName="lastName" 
            placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£Ø®ÙŠØ±"
            [class.error]="form.get('lastName')?.invalid && form.get('lastName')?.touched">
          <span class="error-message" *ngIf="lastNameError">{{ lastNameError }}</span>
        </div>

        <button 
          type="submit" 
          class="submit-btn"
          [disabled]="form.invalid || isLoading">
          {{ isLoading ? 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...' : 'Ø¥Ø¶Ø§ÙØ© Admin' }}
        </button>
      </form>
    </div>

    <!-- Loading State -->
    <div class="loading" *ngIf="isLoading && !showForm">
      <p>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>
    </div>

    <!-- Admins List -->
    <div class="admins-list" *ngIf="!isLoading && !showForm">
      <h2>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù€ Admins ({{ admins.length }})</h2>
      
      <div *ngIf="admins.length === 0" class="no-data">
        <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ÙŠ admins</p>
      </div>

      <div class="admin-cards" *ngIf="admins.length > 0">
        <div class="admin-card" *ngFor="let admin of admins">
          <div class="admin-info">
            <div class="admin-name">
              <h3>{{ admin.firstName }} {{ admin.lastName }}</h3>
              <span class="role-badge">{{ admin.role }}</span>
            </div>
            <div class="admin-email">
              <p><strong>Ø§Ù„Ø¨Ø±ÙŠØ¯:</strong> {{ admin.email }}</p>
            </div>
            <div class="admin-id" *ngIf="admin.id">
              <p><strong>ID:</strong> {{ admin.id }}</p>
            </div>
          </div>
          <div class="admin-actions">
            <button 
              class="delete-btn"
              (click)="deleteAdmin(admin.id, admin.email)"
              [disabled]="admins.length === 1 || isLoading"
              title="Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù€ Admin">
              ğŸ—‘ï¸ Ø­Ø°Ù
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
